<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<script type="text/javascript" src="dist/echarts.min.js" ></script>
		<script type="text/javascript" src="js/jquery.min.js" ></script>
		<title></title>
	</head>
	<body>
		<div id="chartmain" style="width:600px; height: 400px;"></div>
		<script type="text/javascript">

let xData = ['太原', '吕梁', '忻州', '长治', '朔州', '大同', '临汾', '晋中', '运城', '晋城', '阳泉']
let maxY = 900
let yData1 = ['91', '51', '29', '91', '51', '29', '91', '51', '29', '91', '91']
let yData2 = ['15', '8', '16', '15', '8', '16', '15', '8', '16', '15', '15']
let barWidth = 10
let maxData = yData1.map(() => maxY)
let circleData = yData1.map(() => ({ name: '', value: maxY, symbolPosition: 'end' }))
const option = {
  backgroundColor: '#fff', // 背景色
  legend: {
    right: 10,
    top: 20,
    data: ['客群人数', '客群个数']
  },
  // 提示框
  tooltip: {
    show: true,
    trigger: 'axis',
    axisPointer: {
      type: 'shadow'
    }
  },
  grid: {
    top: '25%',
    left: '3%',
    bottom: '4%',
    right: '3%',
    containLabel: true
  },
  animation: false,
  xAxis: [
    {
      type: 'category',
      axisTick: {
        show: false
      },
      axisLine: {
        show: true,
        lineStyle: {
          color: '#d8dadd'
        }
      },
      axisLabel: {
        inside: false,
        textStyle: {
          color: '#919eaa',
          fontWeight: 'normal',
          fontSize: 12
        },
        margin: 20 // 刻度标签与轴线之间的距离。
      },
      data: xData
    },
    {
      type: 'category',
      axisLine: {
        show: false
      },
      axisTick: {
        show: false
      },
      axisLabel: {
        show: false
      },
      splitArea: {
        show: false
      },
      splitLine: {
        show: false
      },
      data: xData
    }
  ],
  yAxis: [
    {
      name: '(人次)',
      show: true,
      type: 'value',
      axisLabel: {
        textStyle: {
          color: '#919eaa'
        }
      },
      splitLine: {
        show: false
      },
      axisLine: {
        show: true,
        lineStyle: {
          width: 3,
          color: '#fbc06f'
        }
      }
    },
    {
      name: '(个)',
      show: true,
      type: 'value',
      axisLabel: {
        textStyle: {
          color: '#919eaa'
        }
      },
      splitLine: {
        show: true
      },
      axisLine: {
        show: true,
        lineStyle: {
          width: 3,
          color: '#75b7fe'
        }
      }
    }
  ],

  series: [
    {
      name: '内部柱子顶部',
      type: 'pictorialBar',
      tooltip: { show: false },
      symbolSize: [barWidth, 5],
      symbolOffset: ['-81%', -3],
      symbolPosition: 'end',
      z: 15,
      color: '#fff950',
      zlevel: 2,
      data: yData1
    },
    {
      name: '内部柱子顶部2',
      type: 'pictorialBar',
      tooltip: { show: false },
      symbolSize: [barWidth, 5],
      symbolOffset: ['81%', -3],
      symbolPosition: 'end',
      z: 15,
      yAxisIndex: 1,
      color: '#63e3ff',
      zlevel: 2,
      data: yData2
    },

    {
      name: '客群人数',
      type: 'bar',
      barGap: '60%',
      barWidth: barWidth,
      yAxisIndex: 0,
      itemStyle: {
        color: new echarts.graphic.LinearGradient(
          0,
          0,
          0,
          1,
          [
            {
              offset: 0,
              color: '#ffc715' // 0% 处的颜色
            },
            {
              offset: 1,
              color: '#f35d00' // 100% 处的颜色
            }
          ],
          false
        )
      },
      label: {
        show: false
      },
      zlevel: 2,
      data: yData1
    },
    {
      name: '客群个数',
      type: 'bar',
      barGap: '60%',
      barWidth: barWidth,
      yAxisIndex: 1,
      itemStyle: {
        color: new echarts.graphic.LinearGradient(
          0,
          0,
          0,
          1,
          [
            {
              offset: 0,
              color: '#68c4ff' // 0% 处的颜色
            },
            {
              offset: 1,
              color: '#1282fe' // 100% 处的颜色
            }
          ],
          false
        )
      },
      label: {
        show: false
      },
      zlevel: 2,
      data: yData2
    },
    {
      name: '背景柱子1',
      type: 'bar',
      tooltip: { show: false },
      xAxisIndex: 1,
      barGap: '60%',
      data: yData1.map(() => maxY),
      zlevel: 1,
      barWidth: barWidth,
      itemStyle: {
        normal: {
          color: new echarts.graphic.LinearGradient(
            0,
            0,
            0,
            1,
            [
              {
                offset: 0,
                color: '#fff0dd' // 0% 处的颜色
              },
              {
                offset: 1,
                color: '#fff0df' // 100% 处的颜色
              }
            ],
            false
          )
        }
      }
    },
    {
      name: '背景柱子2',
      type: 'bar',
      tooltip: { show: false },
      xAxisIndex: 1,
      barGap: '60%',
      data: yData1.map(() => maxY),
      zlevel: 1,
      barWidth: barWidth,
      itemStyle: {
        normal: {
          color: new echarts.graphic.LinearGradient(
            0,
            0,
            0,
            1,
            [
              {
                offset: 0,
                color: '#ddedff' // 0% 处的颜色
              },
              {
                offset: 1,
                color: '#e6f2ff' // 100% 处的颜色
              }
            ],
            false
          )
        }
      }
    },
    {
      name: '底部圆1',
      type: 'pictorialBar',
      tooltip: { show: false },
      symbolSize: [barWidth, 5],
      symbolOffset: ['-81%', 3],
      z: 12,
      color: '#f34001',
      data: maxData
    },
    {
      name: '底部圆2',
      type: 'pictorialBar',
      tooltip: { show: false },
      symbolSize: [barWidth, 5],
      symbolOffset: ['81%', 3],
      z: 12,
      color: '#0166d7',
      data: maxData
    },
    // 头
    {
      name: '顶部圆1',
      type: 'pictorialBar',
      tooltip: { show: false },
      z: 20,
      zlevel: 3,
      symbolPosition: 'end',
      symbolSize: [barWidth, 5],
      symbolOffset: ['-81%', -3],
      itemStyle: {
        normal: {
          color: '#fff0dd'
        }
      },
      data: circleData
    },
    {
      name: '顶部圆2',
      type: 'pictorialBar',
      tooltip: { show: false },
      z: 20,
      zlevel: 2,
      symbolPosition: 'end',
      symbolSize: [barWidth, 5],
      symbolOffset: ['81%', -3],
      itemStyle: {
        normal: {
          color: '#ddedff'
        }
      },
      data: circleData
    }
  ]
}

			//初始化echarts实例
			var myChart = echarts.init(document.getElementById('chartmain'));
	
			//使用制定的配置项和数据显示图表
			myChart.setOption(option);
            window.addEventListener('resize', function () {
  myChart.resize()
})
		</script>
	</body>
</html>
